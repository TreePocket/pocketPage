(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{270:function(a,t,s){"use strict";s.r(t);var o=s(6),v=Object(o.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h5",{attrs:{id:"简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[a._v("#")]),a._v(" "),s("strong",[a._v("简介:")])]),a._v(" "),s("p",[a._v("Koa是一款新的web框架，致力于成为web应用和API开发领域中的一个更小、更富有表现力、更健壮的基石。")]),a._v(" "),s("p",[a._v("利用async函数丢弃回调函数，并增强错误处理。Koa没有任何预制的中间件，可快速而愉快地编写服务端应用程序。")]),a._v(" "),s("h5",{attrs:{id:"核心概念："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#核心概念："}},[a._v("#")]),a._v(" "),s("strong",[a._v("核心概念：")])]),a._v(" "),s("img",{attrs:{src:"https://imgbed-1258988615.cos.ap-nanjing.myqcloud.com/blog-img/koa-img/img1.png",width:"50%"}}),a._v(" "),s("p",[a._v("步骤：")]),a._v(" "),s("p",[a._v("1.初始化项目")]),a._v(" "),s("p",[a._v("2.安装koa依赖 cnpm install —save koa")]),a._v(" "),s("p",[a._v("3.创建index.js入口文件")]),a._v(" "),s("p",[a._v("4.运行 node index.js")]),a._v(" "),s("img",{attrs:{src:"https://imgbed-1258988615.cos.ap-nanjing.myqcloud.com/blog-img/koa-img/img2.png",width:"80%"}}),a._v(" "),s("h5",{attrs:{id:"koa开发restful接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#koa开发restful接口"}},[a._v("#")]),a._v(" "),s("strong",[a._v("Koa开发RESTful接口")])]),a._v(" "),s("p",[a._v("常见的GET/POST")]),a._v(" "),s("p",[a._v("统一的数据处理")]),a._v(" "),s("p",[a._v("接口调试及日志输出")]),a._v(" "),s("p",[a._v("使用的Koa中间件：")]),a._v(" "),s("p",[a._v("路由：koa-router")]),a._v(" "),s("p",[a._v("协议解析：koa-body")]),a._v(" "),s("p",[a._v("跨域处理: @koa/cors")]),a._v(" "),s("p",[a._v("格式化返回值: koa-json")]),a._v(" "),s("img",{attrs:{src:"https://imgbed-1258988615.cos.ap-nanjing.myqcloud.com/blog-img/koa-img/img3.png",width:"80%"}}),a._v(" "),s("img",{attrs:{src:"https://imgbed-1258988615.cos.ap-nanjing.myqcloud.com/blog-img/koa-img/img4.png",width:"80%"}}),a._v(" "),s("h5",{attrs:{id:"添加接口前缀："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#添加接口前缀："}},[a._v("#")]),a._v(" 添加接口前缀：")]),a._v(" "),s("ul",[s("li",[a._v("router.prefix('/api')")])]),a._v(" "),s("h5",{attrs:{id:"获取get请求中的params"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#获取get请求中的params"}},[a._v("#")]),a._v(" 获取Get请求中的params")]),a._v(" "),s("img",{attrs:{src:"https://imgbed-1258988615.cos.ap-nanjing.myqcloud.com/blog-img/koa-img/img6.png",width:"80%"}}),a._v(" "),s("h5",{attrs:{id:"koa路由进阶配置-代码路径：-文稿-frontend-koa-study2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#koa路由进阶配置-代码路径：-文稿-frontend-koa-study2"}},[a._v("#")]),a._v(" "),s("strong",[a._v("Koa路由进阶配置(代码路径：/文稿/frontend/koa-study2)")])]),a._v(" "),s("p",[a._v("开发目录结构")]),a._v(" "),s("p",[a._v("按照功能模块进行区分")]),a._v(" "),s("p",[a._v("路由压缩")]),a._v(" "),s("p",[a._v("Koa-combine-routers")]),a._v(" "),s("p",[a._v("静态资源")]),a._v(" "),s("p",[a._v("koa-static")]),a._v(" "),s("h5",{attrs:{id:"koa安全header处理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#koa安全header处理"}},[a._v("#")]),a._v(" "),s("strong",[a._v("koa安全header处理")])]),a._v(" "),s("p",[a._v("加入安全头:koa-helmet")]),a._v(" "),s("h5",{attrs:{id:"开发过程中的热加载-使用nodemon"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开发过程中的热加载-使用nodemon"}},[a._v("#")]),a._v(" "),s("strong",[a._v("开发过程中的热加载(使用nodemon)")])]),a._v(" "),s("p",[a._v("使用nodemon  cnpm install -D nodemon")]),a._v(" "),s("p",[a._v("开启 npx nodemon src/index.js （开发模式下热加载index.js）")]),a._v(" "),s("p",[a._v("可以在package.json scripts中加入 “start”:”nodemon src/index.js” (就可以使用npm run start命令使用热加载)")]),a._v(" "),s("h5",{attrs:{id:"安装webpack等依赖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装webpack等依赖"}},[a._v("#")]),a._v(" "),s("strong",[a._v("安装Webpack等依赖")])]),a._v(" "),s("p",[a._v("npm install -D clean-webpack-plugin webpack-node-externals @babel/core @babel/node @babel/preset-env babel-loader cross-env")]),a._v(" "),s("p",[a._v("clean-webpack-plugin:清理dist目录下的文件")]),a._v(" "),s("p",[a._v("webpack-node-externals:对nodemodules文件夹中的文件进行排除处理")]),a._v(" "),s("p",[a._v("@babel/core: babel的核心库")]),a._v(" "),s("p",[a._v("@babel/node:调试用到的")]),a._v(" "),s("p",[a._v("@babel/preset-env:对新特性的支持")]),a._v(" "),s("p",[a._v("babel-loader:在webpack中使用到的loader")]),a._v(" "),s("p",[a._v("Cross-env:环境变量的依赖")]),a._v(" "),s("h5",{attrs:{id:"在koa应用中支持es6"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在koa应用中支持es6"}},[a._v("#")]),a._v(" "),s("strong",[a._v("在koa应用中支持ES6")])]),a._v(" "),s("p",[a._v("安装babel依赖")]),a._v(" "),s("img",{attrs:{src:"https://imgbed-1258988615.cos.ap-nanjing.myqcloud.com/blog-img/koa-img/img7.png",width:"80%"}}),a._v(" "),s("p",[a._v("配置.babelrc")]),a._v(" "),s("img",{attrs:{src:"https://imgbed-1258988615.cos.ap-nanjing.myqcloud.com/blog-img/koa-img/img8.png",width:"80%"}}),a._v(" "),s("p",[a._v("Package.json中修改")]),a._v(" "),s("img",{attrs:{src:"https://imgbed-1258988615.cos.ap-nanjing.myqcloud.com/blog-img/koa-img/img9.png",width:"80%"}}),a._v(" "),s("h5",{attrs:{id:"配置调试脚本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置调试脚本"}},[a._v("#")]),a._v(" "),s("strong",[a._v("配置调试脚本")])]),a._v(" "),s("p",[a._v("vscode中在调试界面 添加调试配置")]),a._v(" "),s("p",[a._v("修改配置路径")]),a._v(" "),s("img",{attrs:{src:"https://imgbed-1258988615.cos.ap-nanjing.myqcloud.com/blog-img/koa-img/img10.png",width:"80%"}}),a._v(" "),s("p",[a._v("还可以修改package.json中的配置")]),a._v(" "),s("img",{attrs:{src:"https://imgbed-1258988615.cos.ap-nanjing.myqcloud.com/blog-img/koa-img/img11.png",width:"80%"}}),a._v(" "),s("h5",{attrs:{id:"优化webpack配置，npm构建脚本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#优化webpack配置，npm构建脚本"}},[a._v("#")]),a._v(" "),s("strong",[a._v("优化webpack配置，npm构建脚本")])]),a._v(" "),s("p",[a._v("使用npm-check-updates依赖检测package.json中依赖的版本(ncu命令)")]),a._v(" "),s("p",[a._v("使用ncu命令检测是否有依赖需要更新 再使用对应命令更新依赖")]),a._v(" "),s("p",[a._v("整合koa中间件:")]),a._v(" "),s("p",[a._v("使用koa-compose")]),a._v(" "),s("p",[a._v("安装依赖 cnpm install koa-compose -S")]),a._v(" "),s("p",[a._v("导入 import compose from ‘koa-compose’")]),a._v(" "),s("p",[a._v("使用 const middleware = compose([koaBody(),….])")]),a._v(" "),s("p",[a._v("app.use(middleware)")]),a._v(" "),s("p",[a._v("webpack不同环境打包配置")]),a._v(" "),s("p",[a._v("在生产环境中使用terser-webpack-pugin压缩js(cnpm install terser-webpack-plugin —save-dev)")]),a._v(" "),s("p",[a._v("使用webpack-merge(cnpm install -D webpack-merge)")]),a._v(" "),s("p",[a._v("Webpack.config.base.js代码")]),a._v(" "),s("img",{attrs:{src:"https://imgbed-1258988615.cos.ap-nanjing.myqcloud.com/blog-img/koa-img/img12.png",width:"100%"}}),a._v(" "),s("p",[a._v("Webpack.config.dev.js代码")]),a._v(" "),s("img",{attrs:{src:"https://imgbed-1258988615.cos.ap-nanjing.myqcloud.com/blog-img/koa-img/img13.png",width:"100%"}}),a._v(" "),s("p",[a._v("webpack.config.prod.js代码")]),a._v(" "),s("img",{attrs:{src:"https://imgbed-1258988615.cos.ap-nanjing.myqcloud.com/blog-img/koa-img/img14.png",width:"80%"}}),a._v(" "),s("p",[a._v("utils.js代码")]),a._v(" "),s("img",{attrs:{src:"https://imgbed-1258988615.cos.ap-nanjing.myqcloud.com/blog-img/koa-img/img15.png",width:"80%"}}),a._v(" "),s("p",[a._v("package.json配置代码")]),a._v(" "),s("img",{attrs:{src:"https://imgbed-1258988615.cos.ap-nanjing.myqcloud.com/blog-img/koa-img/img16.png",width:"80%"}}),a._v(" "),s("p",[a._v("使用splitChunks去掉重复依赖代码")]),a._v(" "),s("p",[a._v("使用rimraf依赖包清除dist目录")]),a._v(" "),s("p",[a._v("使用koa-compress在生产模式下压缩中间件代码")]),a._v(" "),s("img",{attrs:{src:"https://imgbed-1258988615.cos.ap-nanjing.myqcloud.com/blog-img/koa-img/img18.png",width:"80%"}}),a._v(" "),s("h5",{attrs:{id:"邮件服务总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#邮件服务总结"}},[a._v("#")]),a._v(" "),s("strong",[a._v("邮件服务总结")])]),a._v(" "),s("p",[a._v("1.公共邮箱限制，使用授权码")]),a._v(" "),s("p",[a._v("2.开发接口api:业务->路由->测试接口->前端页面")]),a._v(" "),s("p",[a._v("3.devServer处理开发过程中的跨域问题")])])}),[],!1,null,null,null);t.default=v.exports}}]);